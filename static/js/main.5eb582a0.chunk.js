(this.webpackJsonpcarimakan=this.webpackJsonpcarimakan||[]).push([[0],{35:function(e,a,t){e.exports=t(66)},40:function(e,a,t){},62:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(32),l=t.n(c),i=(t(40),t(8)),s=t(9),o=t(12),m=t(11),u=t(10),d=function(){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},n.a.createElement(u.b,{className:"navbar-brand",to:"/"},"Yuk Cari Makan"))},g=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col"},n.a.createElement("img",{alt:"header",className:"img-fluid w-100",src:"https://cdn.pixabay.com/photo/2016/11/22/18/52/cake-1850011_960_720.jpg"})))},E=function(){return n.a.createElement("div",{className:"col mx-auto my-2 text-center"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header bg-dark"},n.a.createElement("h2",{className:"text-light"},"Selamat datang !")),n.a.createElement("div",{className:"card-body bg-dark"},n.a.createElement("h3",{className:"card-text text-light card-title"},"Yuk! Cari makan"),n.a.createElement("h5",{className:"text-light"},"Disini kamu bisa mencari makanan populer dan favorit dari berbagai kota"),n.a.createElement("h5",{className:"text-light"}," Kamu juga bisa memberikan dan melihat rating atau review dari tiap restaurant nya loh"))))};var h=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-md-4 mx-auto my-3"},n.a.createElement("div",{className:"card bg-dark text-light"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h2",{className:"card-title"},e.city.name),n.a.createElement("p",{className:"card-text"},e.city.country_name),n.a.createElement(u.b,{className:"btn btn-light text-decoration-none text-dark",to:"/city/".concat(e.city.id)},"Lihat restaurant di kota ",e.city.name)))))},v=function(e){return e.length>0?e.map((function(e){return n.a.createElement(h,{key:e.id,city:e})})):n.a.createElement("div",{className:"col text-center"},n.a.createElement("p",{className:"text-danger"},"Data tidak ditemukan"))},y=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-md-10 mx-auto my-2 text-center"},n.a.createElement("h3",null,e.title)),n.a.createElement("div",{className:"col-md-12"},n.a.createElement("div",{className:"row"},null===e.cities?null:v(e.cities))))},f=function(e){return n.a.createElement("div",{className:"col-md-10 mx-auto my-4 text-center bg-light p-3"},n.a.createElement("h3",null,"Cari Kota : ",n.a.createElement("small",null,e.keyword," ")," "),n.a.createElement("form",{onSubmit:e.onSubmit},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"form-control",type:"text",placeholder:"Cari tempat favorit mu disini..",value:e.keyword,onChange:e.onChange}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Cari")))))},p=t(7),N=t.n(p),k={baseUri:"https://developers.zomato.com/api/v2.1",api_key:"3b3a01c840ded87070be943f7301f569"},b=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).changeKeywordHandler=function(a){a.preventDefault(),e.setState({keyword:a.target.value})},e.searchSubmitHandler=function(a){a.preventDefault();var t="".concat(k.baseUri,"/cities"),r=e.state.keyword;console.log("Mencari kota",r),console.log("api key:",k.api_key),N.a.get(t,{headers:{"user-key":k.api_key},params:{q:r}}).then((function(a){var t=a.data;"success"===t.status&&(t.length<=0&&e.setState({searchResultTitle:"Kota tidak ditemukan"}),e.setState({searchResultCity:t.location_suggestions,keyword:"",searchResultTitle:"Hasil pencarian kota ".concat(r)}))})).catch((function(e){return console.log(e)}))},e.getFeaturedCities=function(){var a="".concat(k.baseUri,"/cities");N.a.get(a,{headers:{"user-key":k.api_key},params:{city_ids:"74,11052,170"}}).then((function(a){var t=a.data;"success"===t.status&&e.setState({featuredCities:t.location_suggestions})})).catch((function(e){return console.log(e)}))},e.state={keyword:"",featuredCities:null,searchResultCity:null,searchResultTitle:null},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,null),n.a.createElement(E,null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row my-3"},n.a.createElement(y,{title:"Kota rekomendasi",cities:this.state.featuredCities}),n.a.createElement(f,{onSubmit:this.searchSubmitHandler,keyword:this.state.keyword,onChange:this.changeKeywordHandler}),n.a.createElement(y,{title:this.state.searchResultTitle,cities:this.state.searchResultCity}))))}}]),t}(r.Component),w=t(34),_=t(16),C=function(e){return n.a.createElement("ul",{className:"list-group"},e.categories?e.categories.map((function(a){return n.a.createElement("button",{key:a.id,className:"list-group-item list-group-item-action "+(e.categoryActive&&a.id===e.categoryActive.id?"active":""),onClick:function(){return e.choosedCategory(a)}},a.name)})):n.a.createElement("p",null,n.a.createElement("i",{className:"fas fa-spinner"})," Loading.."))},x=function(e){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{onSubmit:e.keywordSubmitHandler},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"form-control",name:"searchBarCity",type:"text",placeholder:"Masukan nama restaurant",value:e.keyword,onChange:e.keywordChangeHandler}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("input",{type:"submit",className:"btn btn-dark",value:"Cari"}))))),e.keyword&&n.a.createElement("div",{className:"card-footer"},n.a.createElement("small",null,"Mencari : ",e.keyword," ")))},S=function(e){return n.a.createElement("div",{className:"card bg-light text-dark"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"Kriteria"),n.a.createElement("table",{className:"table table-hover"},n.a.createElement("tbody",null,e.criteria.map((function(a,t){return n.a.createElement("tr",{key:t,className:"table-active"},n.a.createElement("td",null,a.criteriaName),n.a.createElement("td",null,a.data.name),n.a.createElement("td",null,"city"!==a.criteriaName&&n.a.createElement("i",{className:"fas fa-times","aria-hidden":"true",style:{color:"red"},onClick:function(){return e.deleteCriteriaHandler(t)}})))})))),n.a.createElement("div",{className:"float-right"},n.a.createElement("button",{onClick:e.onClickSearch,className:"btn btn-dark"},"Cari"))))},R=function(e){return n.a.createElement("div",{className:"btn btn-sm disabled",style:{color:"white",backgroundColor:"#".concat(e.rating_color),borderColor:"#".concat(e.rating_color)}},"".concat(e.aggregate_rating," (").concat(e.rating_text,")"))},j=function(e){return n.a.createElement("div",{className:"row"},e.listRestaurant?e.listRestaurant.map((function(e,a){return n.a.createElement("div",{className:"col-md-6 my-2",key:a},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4"},n.a.createElement("img",{className:"img-thumbnail",src:e.thumb,alt:e.name})),n.a.createElement("div",{className:"col-8"},n.a.createElement("h5",{className:"card-title"},e.name),n.a.createElement("h6",null,e.location.locality),n.a.createElement("p",{className:"card-text"}," ",e.location.address," ")))),n.a.createElement("div",{className:"card-body"},n.a.createElement("table",{className:"table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Rating"),n.a.createElement("td",null,n.a.createElement(R,{rating_color:e.user_rating.rating_color,aggregate_rating:e.user_rating.aggregate_rating,rating_text:e.user_rating.rating_text}))),n.a.createElement("tr",null,n.a.createElement("td",null,"Cuisines"),n.a.createElement("td",null,e.cuisines)),n.a.createElement("tr",null,n.a.createElement("td",null,"Harga untuk berdua"),n.a.createElement("td",null,e.currency+" "+e.average_cost_for_two)),n.a.createElement("tr",null,n.a.createElement("td",null,"Phone"),n.a.createElement("td",null,e.phone_numbers))))),n.a.createElement("div",{className:"card-footer"},n.a.createElement(u.b,{to:"/restaurant/".concat(e.id),className:"text-decoration-none"},n.a.createElement("button",{className:"btn btn-outline-dark btn-block"},"Lihat Selengkapnya")))))})):n.a.createElement("p",{className:"text-muted"},n.a.createElement("i",{className:"fab fa-circle"})," Loading.."))},H=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).getCity=function(a){var t="".concat(k.baseUri,"/cities");N.a.get(t,{headers:{"user-key":k.api_key},params:{city_ids:"".concat(a)}}).then((function(a){var t=a.data;if("success"===t.status){var r=t.location_suggestions[0],n={criteriaName:"city",data:r},c=Object(_.a)(e.state.criteria);c.push(n),e.setState({city:r,criteria:c})}})).catch((function(e){return console.log(e)}))},e.getCategories=function(){var a="".concat(k.baseUri,"/categories");N.a.get(a,{headers:{"user-key":k.api_key}}).then((function(a){var t=a.data.categories.map((function(e){return e.categories}));e.setState({categories:t})})).catch((function(e){return console.log(e)}))},e.getRestaurant=function(a){var t="".concat(k.baseUri,"/search");N.a.get(t,{headers:{"user-key":k.api_key},params:{entity_id:"".concat(a),entity_type:"city"}}).then((function(a){var t=a.data.restaurants.map((function(e){return e.restaurant}));e.setState({listRestaurant:t})})).catch((function(e){return console.log(e)}))},e.choosedCategory=function(a){console.log("category terpilih",a);var t=Object(_.a)(e.state.criteria),r={criteriaName:"category",data:a};(t=t.filter((function(e){return"category"!==e.criteriaName}))).push(r),e.setState({categoryActive:a,criteria:t})},e.keywordChangeHandler=function(a){e.setState({keyword:a.target.value})},e.deleteCriteriaHandler=function(a){var t=Object(_.a)(e.state.criteria);t.splice(a,1),console.log("deleting criteria",a),e.setState({criteria:t})},e.keywordSubmitHandler=function(a){a.preventDefault();var t=Object(_.a)(e.state.criteria);t=t.filter((function(e){return"keyword"!==e.criteriaName}));var r={criteriaName:"keyword",data:{name:e.state.keyword}};t.push(r),e.setState({keyword:"",criteria:t})},e.searchRestaurantHandler=function(){e.setState({listRestaurant:null});var a,t="".concat(k.baseUri,"/search"),r={},n=Object(w.a)(e.state.criteria);try{for(n.s();!(a=n.n()).done;){var c=a.value;switch(c.criteriaName){case"city":r.entity_id=c.data.id,r.entity_type="city";break;case"category":r.category=c.data.id;break;case"keyword":r.q=c.data.name}}}catch(l){n.e(l)}finally{n.f()}console.log("Mencari kritera :",r),N.a.get(t,{headers:{"user-key":k.api_key},params:r}).then((function(a){var t=a.data.restaurants.map((function(e){return e.restaurant}));e.setState({listRestaurant:t})})).catch((function(e){return console.log(e)}))},e.renderRestaurantList=function(){return null===e.state.listRestaurant?n.a.createElement("p",{className:"text-muted text-center"},n.a.createElement("i",{className:"fas fa-spinner"}),"Loading.."):e.state.listRestaurant.length>0?n.a.createElement(j,{listRestaurant:e.state.listRestaurant}):n.a.createElement("h5",{className:"text-muted text-center"},"Data restaurant tidak ditemukan")},e.state={city:null,categories:null,listRestaurant:[],categoryActive:null,keyword:null,criteria:[],restaurants:[]},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.city_id;console.log("mengambil data kota",e),this.getCity(e),this.getCategories(),this.getRestaurant(e),console.log("mengambil restoran di kota",e)}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container my-2"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4 my-1"},n.a.createElement("h3",null,"Kategori")),n.a.createElement("div",{className:"col-md-8"},n.a.createElement("h3",{className:"float-right"},"Daftar restaurant di kota",this.state.city&&n.a.createElement("strong",null," ",this.state.city.name," ")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement(C,{categories:this.state.categories,categoryActive:this.state.categoryActive,choosedCategory:function(a){return e.choosedCategory(a)}})),n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement(x,{keyword:this.state.keyword,keywordChangeHandler:this.keywordChangeHandler,keywordSubmitHandler:this.keywordSubmitHandler})),n.a.createElement("div",{className:"col-md-12 my-3"},n.a.createElement(S,{criteria:this.state.criteria,deleteCriteriaHandler:function(a){return e.deleteCriteriaHandler(a)},onClickSearch:this.searchRestaurantHandler})),n.a.createElement("div",{className:"col-md-12"},this.renderRestaurantList()))))))}}]),t}(r.Component),O=function(e){return n.a.createElement(n.a.Fragment,null,e.restaurant?n.a.createElement("div",{className:"card text-center"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h5",{className:"card-title",style:{color:"#076473"}},e.restaurant.name+" Restaurant")),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4"},n.a.createElement("img",{alt:"thumbnail",src:e.restaurant.thumb,className:"img-thumbnail"})),n.a.createElement("div",{className:"col-8"},n.a.createElement("h5",{className:"card-text"},e.restaurant.location.locality),n.a.createElement("p",{className:"card-text"},e.restaurant.location.address),n.a.createElement("p",{className:"card-text"},e.restaurant.timings),n.a.createElement("p",{className:"card-text"},"Cuisine : ",e.restaurant.cuisines),n.a.createElement(R,{rating_color:e.restaurant.user_rating.rating_color,aggregate_rating:e.restaurant.user_rating.aggregate_rating,rating_text:e.restaurant.user_rating.rating_text}))))):n.a.createElement("h5",{className:"card-title"},"Data tidak ditemukan"))},D=function(e){return n.a.createElement(n.a.Fragment,null,e.reviews?n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h5",{className:"card-title"},"Review ",e.reviews.reviews_count)),n.a.createElement("div",{className:"card-body"},e.reviews.user_reviews.map((function(e){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",style:{backgroundColor:"#".concat(e.review.rating_color)}},n.a.createElement("h5",{className:"card-title text-light"},n.a.createElement("i",{className:"fas fa-star"}),"  "+e.review.rating+" "+"(".concat(e.review.rating_text,")"))),n.a.createElement("div",{className:"card-body"},n.a.createElement("h6",{className:"card-text"},e.review.review_text),n.a.createElement("p",{className:"text-muted"},e.review.user.name+" "+e.review.review_time_friendly)))})))):n.a.createElement("h5",{className:"card-title"},"Data tidak ditemukan"))},A=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).getRestoDetail=function(a){var t="".concat(k.baseUri,"/restaurant");N.a.get(t,{headers:{"user-key":k.api_key},params:{res_id:"".concat(a)}}).then((function(a){var t=a.data;e.setState({restaurant:t})})).catch((function(e){return console.log(e)}))},e.getReviewsDetail=function(a){var t="".concat(k.baseUri,"/reviews");N.a.get(t,{headers:{"user-key":k.api_key},params:{res_id:"".concat(a)}}).then((function(a){var t=a.data;e.setState({reviews:t})})).catch((function(e){return console.log(e)}))},e.state={restaurant:null,reviews:null},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;console.log(e.res_id),this.getRestoDetail(e.res_id),this.getReviewsDetail(e.res_id)}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container my-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement(O,{restaurant:this.state.restaurant}))))),n.a.createElement("div",{className:"row my-5"},n.a.createElement("div",{className:"col"},n.a.createElement(D,{reviews:this.state.reviews})))))}}]),t}(r.Component),F=(t(62),[{title:"Yuk cari makan",content1:"Tentang Kami",content2:"Kontak Kami",content3:null},{title:"Support",content1:"FAQ",content2:"Help Desk",content3:"Forum"},{title:"Download App",content1:"Google Play",content2:"Appstore",content3:null}]),K=function(){return n.a.createElement("footer",{className:"container-fluid my-3"},n.a.createElement("div",{className:"row bg-dark pt-3"},F.map((function(e){return n.a.createElement("div",{className:"col-sm-4 text-center"},n.a.createElement("h5",{className:"text-light"},e.title),n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("li",{className:"list-group-item bg-dark"},"Google Play"===e.content1?n.a.createElement("a",{href:"!#"},n.a.createElement("i",{className:"fab fa-google-play"})," Google Play"):n.a.createElement("a",{href:"!#"},e.content1)),n.a.createElement("li",{className:"list-group-item bg-dark"},"Appstore"===e.content2?n.a.createElement("a",{href:"!#"},n.a.createElement("i",{className:"fab fa-app-store"})," Appstore"):n.a.createElement("a",{href:"!#"},e.content2)),null!==e.content3?n.a.createElement("li",{className:"list-group-item bg-dark"},n.a.createElement("a",{href:"!#"},e.content3)):null))}))),n.a.createElement("div",{className:"row copyright"},n.a.createElement("div",{className:"col text-center"},n.a.createElement("h5",null,"Cari kami di sosial media:"),n.a.createElement("a",{href:"!#"},n.a.createElement("i",{className:"fab fa-twitter"})," "),n.a.createElement("a",{href:"!#"},n.a.createElement("i",{className:"fab fa-facebook"})," "),n.a.createElement("a",{href:"!#"},n.a.createElement("i",{className:"fab fa-instagram"})," "),n.a.createElement("h5",{className:"copyright-item"},"Yuk!Carimakan ",n.a.createElement("small",null,n.a.createElement("em",null,"Copyright")," @ 2020")," "))))},M=t(1),U=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(u.a,null,n.a.createElement(d,null),n.a.createElement(M.a,{path:"/",exact:!0,component:b}),n.a.createElement(M.a,{path:"/city/:city_id",component:H}),n.a.createElement(M.a,{path:"/restaurant/:res_id",component:A}),n.a.createElement(K,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),t(63).config()}},[[35,1,2]]]);
//# sourceMappingURL=main.5eb582a0.chunk.js.map